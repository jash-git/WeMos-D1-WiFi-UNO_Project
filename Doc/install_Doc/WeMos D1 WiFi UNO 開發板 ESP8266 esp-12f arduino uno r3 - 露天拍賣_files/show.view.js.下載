!function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return e[i].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}({0:function(e,t,n){function i(){var e=$(".rt-tab-container");return function(){return e.offset().top-40}}function s(e,t){var n=window.location.pathname+window.location.search+e;return t&&(n+="&p="+t),n}n("./services/AjaxIdentityCheckService.js"),n("./services/AjaxGoodsRemovalService.js"),n("./services/AjaxFavoriteFunctionService.js"),n("./services/AjaxGoodsQnADataService.js"),n("./services/AjaxGoodsHistoryDataService.js"),n("./services/BrowserStorageService.js"),n("./d/components/goods_spec_chooser.js"),window.viewStartPosition=0;var o={init:function(){function e(){var a,r;++s,a=t(),s<=o&&(r=n(i,s),window.scrollTo(0,r),requestAnimationFrame(e))}function t(){return 0==document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop}function n(e,t){var n=function(e,t,n,i){return n*(e/=i)*e+t};return i-n(t,0,e,o)}var i,s,o=30;$("#to_top").click(function(n){s=0,i=t(),window.requestAnimationFrame?(requestAnimationFrame(e),n.preventDefault()):window.scrollTo(0,0)})}};o.init(),function(){var e,t,n=!1,i=$("#ppci_table"),s=$("li.PW_PCHOMEPAY_CREDIT_N_ZERO"),o=function(){e=0,i.is(":visible")&&i.hide()},a=function(){var e;n||$.getJSON(RT.config.mybid_host+"/deliver/ajax_pp_installment_bank.php?callback=?").done(function(i){i.banks&&(t=i.banks.banks,$(".ppci-bank").each(function(){e=t[this.id.replace("ppci_bank_info_","installment_")],$(this).attr("title",e.join(", ")).text(e.length+"家")}),n=!0)})};$("#ppci_table").length>0&&$("#ppci_table").on("click","a",function(e){var n=this.id.replace("ppci_bank_info_","");window.onBankTableReady=function(e){e(n,t["installment_"+n].slice(0))},window.open("pop_pp_installment_bank.html","BankTable","width=500,height=360,scrollbars=yes"),e.preventDefault(),e.stopPropagation()}),$("#ppci_table_toggle").length>0&&$("#ppci_table_toggle").click(function(e){e.preventDefault()}).mouseenter(function(){var e,t;n?(e=s.position(),i.show(),t=(i.width()-s.width())/2+parseInt(s.css("padding-left"),10)-parseInt(i.css("padding-left"),10)-parseInt(i.css("border-left-width"),10),i.css("top",e.top+s.height()+3+"px").css("left",e.left-t+"px")):a()}),i.add(s).hover(function(){e&&clearTimeout(e)},function(){e=setTimeout(o,300)}),$("#keyword").one("blur",function(){"2ch"===this.value&&$(".rt-article").css({"font-family":"MS PGothic","line-height":1})})}();var a={settings:$.extend({enable_google_ad:RT.context.g_class&&"0025"!==RT.context.g_class.substring(0,4),enable_openx_ad:1!=RT.context.is_cstore&&1!=RT.context.is_nbc,fc_class:RT.context.g_class,seller_user_nick:RT.context.seller_user_nick,is_cstore:RT.context.is_cstore,use_kwa:RT.context.use_kwa,use_4ca:RT.context.use_4ca,is_nbc:RT.context.is_nbc},RT.context),init:function(){var e=window.location.pathname;this.settings.enable_google_ad,this.settings.enable_openx_ad&&this.loadOpenXAds(),"/item/show"!=e&&"/item/qa"!=e&&"/item/history"!=e||this.settings.is_nbc||this.settings.is_cstore&&!this.settings.use_kwa||(this.settings.is_cstore&&this.settings.use_kwa?this.loadSidebarFeaturedItems():this.loadRelatedAds()),this.settings.is_cstore&&this.settings.use_4ca&&this.loadBottomFeaturedItems()},loadOpenXAds:function(){var e=this,t=RT.config.ad_host+"/ahd/goods.php",n={fc_class:this.settings.fc_class};$.get(t,n,function(t){e.renderOpenXAds(t)},"jsonp")},renderOpenXAds:function(e){"undefined"!=typeof e.hola&&null!=e.hola&&$("#ad_hola").html(e.hola),"undefined"!=typeof e[521]&&null!=e[521]&&1!=this.settings.is_cstore&&(show_ad("ad-521",e[521]),$(".ad-521").addClass("is-loaded")),"undefined"!=typeof e[522]&&null!=e[522]&&1!=this.settings.is_cstore&&(show_ad("ad-522",e[522]),$(".ad-522").addClass("is-loaded")),"undefined"!=typeof e.cat&&null!=e.cat&&1!=this.settings.is_cstore&&(show_ad("cat-ad-text",e.cat),$(".category-ad").addClass("is-loaded")),"undefined"!=typeof e.I02&&null!=e.I02&&1!=this.settings.is_cstore&&(show_ad("ad-677",e.I02),$(".ad-677").addClass("is-loaded"))},loadSidebarFeaturedItems:function(){try{$.ajax({url:RT.config.kwad_host+"/item/get_best_goods_8.php",cache:!1,dataType:"jsonp",data:{s:this.settings.seller_user_nick,p:1,ts:(new Date).getTime()},success:this.renderSidebarFeaturedItems,error:function(){}})}catch(e){}},renderSidebarFeaturedItems:function(e){var t=a.settings,n=['<li><a class="promo-item" href="{{ item_link_url }}" title="查看商品資訊">','  <div class="promo-img-wrap">','    <img src="{{ image_path }}" alt="{{ slogan2 }}">',"  </div>",'  <div class="promo-item-body">','    <h4 class="promo-item-title">{{ slogan }}</h4>','    <div class="promo-item-content text-right">','      <span class="text-important">{{ g_now_price }} 元</span>',"    </div>","  </div>","</a></li>"].join(""),i=["<li>",'<a href="{{settings.mkt_host}}/adb/ad09_intro.html"><img border="0" src="{{ ad.image_path }}" /></a>',"</li>"].join(""),s=$("#kwad");$.each(e,function(e,o){"no_ad"==e?(o.mkt_host=t.mkt_host,s.append(Mustache.render(i,o))):(o.item_link_url=t.goods_host+"/item/show?"+o.g_no,s.append(Mustache.render(n,o)))}),$(".sponsor-ad").addClass("is-loaded")},loadBottomFeaturedItems:function(){try{$.ajax({url:this.settings.kwad_host+"/item/get_best_goods_4.php",cache:!1,dataType:"jsonp",data:{s:this.settings.seller_user_nick,p:1,ts:(new Date).getTime()},success:this.renderBottomFeaturedItems,error:function(){}})}catch(e){}},renderBottomFeaturedItems:function(e){var t=a.settings,n=['<li class="rt-grid-1-4"><a class="featured-item promo-item" href="{{ item_link_url }}" title="查看商品資訊">','  <div class="promo-img-wrap featured-item-img">','    <img src="{{ image_path }}" alt="{{ slogan2 }}">',"  </div>",'  <div class="promo-item-body">','    <h4 class="featured-item-title">{{ slogan }}</h4>','    <div class="promo-item-content text-center">',"      <p>目前出價：{{ g_now_price }} 元</p>",'      <p>直購價：<span class="text-important">{{ g_direct_price }} 元</span></p>',"    </div>","  </div>","</a></li>"].join("");$.isEmptyObject(e)||($(".featured-list").show(),$.each(e,function(e,i){i.item_link_url=t.goods_host+"/item/show?"+i.g_no,$("#best_goods_4").append(Mustache.render(n,i))}))},loadRelatedAds:function(){try{$.ajax({url:this.settings.kwad_host+"/item/ahd_kwad_class.php",cache:!1,dataType:"jsonp",data:{c:this.settings.fc_class,p:1,ts:(new Date).getTime()},success:this.renderRelatedAds,error:function(){throw"ContentUnavailable"}})}catch(e){}},renderRelatedAds:function(e){var t=a.settings,n=['<li><a class="related-item promo-item" href="{{ point_host }}/kw/keyword_ad_click.php?g={{ g_no }}&a={{ main_id }}" title="查看商品資訊">','  <div class="promo-img-wrap">','    <img src="{{ image_path }}" alt="{{ slogan2 }}">',"  </div>",'  <div class="promo-item-body">','    <h4 class="promo-item-title related-item-title"><span>{{ slogan }}</span><span class="text-ellipsis">...</span><span class="ellipsis-fill"></span></h4>','    <div class="promo-item-content">','      <span class="related-item-price">$ {{ g_now_price }}</span>',"    </div>","  </div>","</a></li>"].join(""),i=["<li>",'  <a class="related-item promo-item" href="{{point_host}}/kw/keyword_ad_click.php?i={{ kwad_id }}&a={{ ad.main_id }}" title="查看商品資訊">',"    {{# image }}",'    <div class="promo-img-wrap">','      <img src="{{ image }}" alt="{{ slogan2 }}">',"    </div>","    {{/ image }}",'    <div class="promo-item-body">','      <h4 class="promo-item-title">{{ slogan }}</h4>','      <div class="promo-item-content">',"        {{ shorten_url }}","      </div>","    </div>","  </a>","</li>"].join(""),s=0,o=$("#kwad");$.each(e,function(e,a){a.point_host=t.point_host,"no_ad"==e||(14==a.kwad_id.length?(a.g_now_price=RT.Utility.toCommaFormat(a.g_now_price),o.append(Mustache.render(n,a)),s++):(a.shorten_url=a.url.substring(0,30),o.append(Mustache.render(i,a)),s++))}),s>0&&$(".sponsor-ad").addClass("is-loaded")}},r=function(){var e={},t=RT.context.g_class&&"0025"!==RT.context.g_class.substring(0,4);return e.init=function(){if(window.RT&&window.RT.DFPModule){var e=window.RT.DFPModule([{path:"/1243336/show_r_u_160x200",size:[160,200],node_id:"div-gpt-ad-1447748385472-0"},{path:"/1243336/show_r_m_160x200",size:[160,200],node_id:"div-gpt-ad-1447748385472-1"}]);RT.context.is_cstore||RT.context.is_nbc||!t||e.init()}},e}(),c={template:'<div class="loader">&nbsp;</div>',tracking:[],addAnimation:function(e){var t=$(this.template);e.data("loading",this.tracking.length),t.appendTo(e),this.tracking.push(t)},removeAnimation:function(e){var t=e.data("loading");this.tracking[t]&&(this.tracking[t].remove(),this.tracking.splice(t,1))},animationExisted:function(e){return e.find(".loader").length>0}};RT.App.addModule("goods-main",function(e){"use strict";function t(e){var t=/^[0-9]+$/;return e&&t.test(e)}function n(e){var t=$();return $.each(e,function(e,n){""!=n&&(t="object"===$.type(n)?t.add(convertToHiddenFields(n)):t.add($('<input type="hidden"/>').attr("name",e).val(n)))}),t}function s(e){g.identify(o,a).done(function(t){e.call()}).fail(function(){alert("請先登入會員!"),window.location=RT.config.member_host+"/user/login.htm?refer="+window.encodeURIComponent(window.location.href)})}var o=RT.context.g_no,a=RT.context.seller_user_nick,r=RT.context.g_mode,c=RT.context.g_class,d=RT.context.g_direct_price,u=!0,l=$(e.getElement()).find("form"),p=RT.config.goods_host+"/item/show?"+o,h="#info",f=e.getService("AjaxGoodsRemovalService"),m=e.getService("AjaxFavoriteFunctionService"),g=e.getService("AjaxIdentityCheckService");return{init:function(){var e=this;g.identify(o,a).done(function(t){t.login_seller&&t.login_flag&&(e.disableBuyerOnlyActions(),e.renderSellerOnlyBlocks(t.data),u=!1),viewStartPosition=e.getViewStartingPosition()}),"000700080001"==c&&this.renderRestrictedConstraint()},onclick:function(t,n,i){n&&n.hasAttribute("data-type")&&t.preventDefault(),"goods-premature-end-link"===i?this.confirmPrematureEnd():"goods-force-end-link"===i?this.confirmForceEnd():"goods-reupload-link"===i?this.confirmItemReupload():"show-spec-link"===i?this.toggleCustomSpecs(!0):"hide-spec-link"===i?this.toggleCustomSpecs(!1):"show-shipment-rule-link"===i?this.toggleShipmentRules($(n),!0):"hide-shipment-rule-link"===i?this.toggleShipmentRules($(n),!1):"show-countdown-link"===i?this.openRemainingTimePage($(n).attr("rel")):"show-private-tip-link"===i?this.openPrivateTipWindow():"show-qna-link"===i?e.broadcast("event:tab-change","#qa"):"show-remain-link"===i?this.openRemainingCountTipWindow():"favorite-item-link"===i?this.addFavoriteItem():"favorite-seller-link"===i?this.addFavoriteSeller():"direct-buyout-button"===i?this.doDirectBuyout():"bid-button"===i?this.doBidding():"ruruton-tip-link"===i?this.openRurutonTipWindow():"notify-ppc-link"===i&&this.requestPPCreditActivation()},disableBuyerOnlyActions:function(){$(".js-buyer-only").remove()},renderSellerOnlyBlocks:function(e){var t=$("#goods_stats_template"),n=$("#goods_owner_template"),i=$("#item_stats_block"),s=$("#seller_control_block");e.mybid_host=RT.config.mybid_host,e.point_host=RT.config.point_host,e.mybidu_host=RT.config.mybidu_host;var o=Mustache.render(t.html(),e);i.add(s).html(""),i.append(o),o=Mustache.render(n.html(),e),s.append(o)},renderRestrictedConstraint:function(){$("#action_direct_buyout, #action_bid").removeClass().addClass("item-soldout-action"),$(".item-purchase").addClass("is-restricted"),$("#qty").prop("disabled",!0)},doBuyoutValidation:function(){var e=$("#target_id");return!(0!==e.length&&!e.val())||(alert("請選擇規格/項目"),!1)},doDirectBuyout:function(){var e=this;s(function(){if(e.doBuyoutValidation()){var t={bid_hidden:1,bidmoney:d,bidcate:"A",bidtype:r,bidurl:window.location.href,bidpid:o,gs_class:c,ms:RT.context.ms,is_hidden:$("#private").is(":checked")?"true":"",bidnum:function(){var e="1";return"B"==r&&(e=Number($("#qty").val())),e}()};0!==$("#target_id").length&&(t.spec_id=$("#target_id").val(),t.spec_name=$("#target_spec_name").val()),l.append(n(t)).submit()}})},doBiddingValidation:function(){var e=$("#max");return!!t(e.val())||(alert("請輸入正確的出價"),e.focus().select(),!1)},doBidding:function(){var e=this;s(function(){if(e.doBiddingValidation()){var t=n({bidmoney:$("#max").val(),bidcate:$('input[name="bid_option"]:checked').val(),bidnum:1,bidtype:r,bidurl:window.location.href,bidpid:o,gs_class:c,ms:RT.context.ms,is_hidden:$("#private").is(":checked")?"true":""});l.append(t).submit()}})},toggleCustomSpecs:function(e,t){$("#custom_specs_pane").toggle(t)},toggleShipmentRules:function(e,t){var n=e.offset(),i=$(".item-purchase").offset();$("#shipment_rules_pane").css({top:n.top-i.top+24,left:n.left-i.left}).toggle(t)},addFavoriteItem:function(){s(function(){m.addItem(o,location.href)})},addFavoriteSeller:function(){s(function(){m.addSeller(a)})},requestPPCreditActivation:function(){s(function(){$.ajax({url:RT.config.goods_host+"/secret/secret_check_open_ar.php",data:{user_nick:a,sec_show_type:2,time:Date.now()}}).done(function(e){"1"===e?window.location=RT.config.mybid_host+"/secret/secret_leave.php?user_nick="+a+"&sec_show=2&g_no="+o:"0"===e?alert("很抱歉，此會員的悄悄話功能關閉中！"):alert("很抱歉，資料格式錯誤！")})})},openPrivateTipWindow:function(){window.open(RT.config.mybid_host+"/credit/private_what.php","tips","loaction=0,height=600,width=840,scrollbars=yes")},openRurutonTipWindow:function(){window.open(RT.config.pub_host+"/tool/alert.htm","tips","loaction=0,height=600,width=920,scrollbars=yes")},openRemainingCountTipWindow:function(){window.open(RT.config.goods_host+"/item/statement.html","tips","loaction=0,height=10,width=480,scrollbars=yes")},openRemainingTimePage:function(e){window.open(e,"clock_"+o,"loaction=0,height=200,width=480")},confirmForceEnd:function(){confirm("確定強迫下架?")&&f.forceEnd(o).done(function(e){e.data&&e.data.url&&(window.location=e.data.url)}).fail(function(e){alert(e)})},confirmPrematureEnd:function(){confirm("確定提前結束?")&&f.prematureEnd(o).done(function(e){e.data&&e.data.url&&(window.location=e.data.url)}).fail(function(e){alert(e)})},confirmItemReupload:function(){RT.context.g_num>1&&RT.context.g_sold_num>0&&confirm("重新上架本商品，是否要保留原來的銷售數量?")?window.open(RT.config.mybidu_host+"/upload/item_initial.php?g_no="+o+"&r_g_sold_num=true","_self"):window.open(RT.config.mybidu_host+"/upload/item_initial.php?g_no="+o,"_self")},getViewStartingPosition:i(),sendPageView:function(){ga("set","page",p)},onmessage:{"event:goods-tab-change":function(e){e.hash===h&&this.sendPageView()}}}}),RT.App.addModule("goods-qna",function(e){"use strict";function t(e,t){var n;t.mybid_host=RT.config.mybid_host,t.class_host=RT.config.class_host,t.g_no=u,t.qna_admin_block=t.login_flag&&t.login_seller,n=Mustache.render(R,t),e[0].innerHTML=n}function n(e,t){var n,i=document.createElement("div"),s=document.createDocumentFragment();t.g_no=u,t.qna_admin_block=t.login_flag&&t.login_seller,t.qna_question_block=!t.login_seller&&!t.g_closed,t.config=RT.config,n=Mustache.render(S,t),i.innerHTML=n,s.appendChild(i);for(var o=0;o<e[0].childNodes.length;o++){var a=e[0].childNodes[o].classList||[];a=Array.apply(null,a),a.indexOf("loader")===-1&&e[0].removeChild(e[0].childNodes[o])}e[0].appendChild(s)}function i(){c.removeAnimation(b),b.removeClass("is-loading"),b.children().show()}function o(){b.addClass("is-loading",!0),b.children(":not(.loader)").hide(),c.animationExisted(b)||c.addAnimation(b)}var a,r,d,u=RT.context.g_no,l="#qa",p=RT.config.goods_host+"/item/show?"+u+"#qa",h=10,f=!1,m=1,g=!1,_=!1,v=RT.context.is_api_seller,b=$(e.getElement()),w=[],y=e.getService("BrowserStorageService"),T=e.getService("AjaxGoodsQnADataService"),x=$(".qna-ask-count"),S=$("#goods_qna_layout_template").html(),R=$("#goods_qna_listing_template").html(),k=1e3,j=0;return Mustache.parse(S),{onclick:function(e,t,n){"toggle-checkbox-button"===n?(_=!_,this.toggleCheckboxes(_)):"delete-question-button"===n?this.removeQuestion():"submit-question-button"===n?(e.preventDefault(),this.submitQuestion()):"qna-refresh-link"===n||"refresh-question-button"===n?(e.preventDefault(),this.refreshQnA()):"ask-question-link"==n&&(e.preventDefault(),this.jumpToSubmitForm())},initPagination:function(e,t,n,i){var o=this;i=i||"rt-pagination";var a={perPage:h,initPage:t-1||0,containerCls:i,lockCls:"is-locked",pageRangeRule:"group_per_10",onPage:function(e){o.renderQnA(e+1),history.pushState({hash:l,p:e+1},null,s(l,e+1))},onPageInfo:function(e,t,i){this.$infoNum.text("每頁 "+this.config.perPage+" 筆，"),this.$infoTotal.text(n),this.$infoPage.text(i+"/"+t)},onLock:function(){this.$pageCurrentLink.html('<i class="fa fa-lg fa-fw fa-spinner fa-pulse"></i>')}};w.push(RT.Page.Pagination(e.empty(),n,a))},removeQuestion:function(){var t=b.find("[data-qno][type=checkbox]:checked"),n=[];n=$.map(t,function(e){return Number(e.value)}),T.removeQuestion(u,n).done(function(t){r.find(".rt-alert-content").text("刪除成功!").end().addClass("rt-alert-success").show(),e.broadcast("event:remove-qna",n)}).fail(function(e){r.find(".rt-alert-content").text(e.message).end().addClass("rt-alert-danger").show()}).always(function(){setTimeout(function(){r.hide().removeClass("rt-alert-danger rt-alert-success")},5e3)})},submitQuestion:function(){var e=this,t=d.val();T.submitQuestion(u,t).done(function(){f=!1,e.renderQnA(1),d.val("")}).fail(function(n){var i=b.find(".qna-ask-alert");i.find(".rt-alert-content").text(n.message).end().show(),setTimeout(function(){i.hide()},5e3),n.url&&(e.saveTempQuestion(t),setTimeout(function(){window.location=n.url},2e3))})},saveTempQuestion:function(e){y.isLocalStorageSupported()&&y.setLocalItem("tempQ_"+u,e)},retrieveTempQuestion:function(){var e="";return y.isLocalStorageSupported()&&(e=y.removeLocalItem("tempQ_"+u)),e},toggleCheckboxes:function(e){b.find("[data-qno][type=checkbox]").prop("checked",e)},renderQnA:function(e){var s,c=this;if(!(e===m&&f||v)){var l=T.getQuestions(u,e,h);s=Date.now(),o(),l.always(function(){j=Date.now()-s,j<k?setTimeout(i,k-j):i(),j=0}).done(function(i){f||(f=!0,n(b,i.data),c.initPagination(b.find(".bottom-pagination-placeholder"),e,Number(i.data.ask_count)),c.initPagination(b.find(".top-pagination-placeholder"),e,Number(i.data.ask_count)),a=b.find(".qna-record-list"),r=b.find(".qna-alert"),d=b.find(".rt-form-textarea"),d.val(c.retrieveTempQuestion())),m=e,_=!1,x.text(i.data.ask_count),i.data.ask_count>0&&(t(a,i.data),RT.App.startAll(a[0]),c.refreshPagination())}).fail(function(e){n(b,{qna:[],qna_error:!0,qna_error_msg:e.message,login_seller:!1,qna_disabled:e.disabled})})}window.scrollTo(0,viewStartPosition)},refreshQnA:function(){f=!1,this.renderQnA(m)},refreshPagination:function(){$.each(w,function(e,t){t.to(m-1,!0)})},sendPageView:function(){ga("set","page",p),g||(ga("send","pageview"),g=!0)},jumpToSubmitForm:function(){if(d.length){var e=d.offset();window.scrollTo(0,e.top),d.focus()}},onmessage:{"event:goods-tab-change":function(e){e.hash===l&&(!e.p&&(e.p=m),history.replaceState(e,null,s(e.hash,e.p)),this.renderQnA(e.p),this.sendPageView())},"event:remove-qna-done":function(){0===b.find(".qna-record").length&&(f=!1,this.renderQnA(1))}}}}),RT.App.addModule("goods-qna-record",function(e){"use strict";var t=$(e.getElement()),n=t.find(".rt-quickreply"),i=t.data("serial"),s=RT.context.g_no,o=e.getService("AjaxGoodsQnADataService");return{onclick:function(e,t,n){"reply-question-link"===n?this.toggleReplyQuestionArea():"reply-question-button"===n&&(e.preventDefault(),this.submitReply())},toggleReplyQuestionArea:function(){n.toggle()},submitReply:function(){var e=this,a=n.find(".rt-quickreply-textarea"),r=t.find(".rt-quickreply-error"),c=a.val();r.text(""),n.addClass("is-loading"),a.prop("disabled",!0),o.replyQuestion(s,i,c).done(function(t){a.val(""),e.addReply(t.data.answer,t.data.sh_date),e.toggleReplyQuestionArea()}).fail(function(e){r.text(e.message)}).always(function(){a.prop("disabled",!1),n.removeClass("is-loading")})},addReply:function(e,n){var i=['<div class="qna-reply rt-form-group">','  <strong class="qna-reply-title rt-form-label">答覆:</strong>','  <div class="qna-reply-message-list rt-form-control">','    <div class="qna-reply-message rt-article">{{{ HTML.answer }}}<span class="qna-record-time">{{sh_date}}</span></div>',"  </div>","</div>"].join(""),s=Mustache.render(i,{sh_date:n,HTML:{answer:e}});t.find(".qna-reply-list").append(s)},destroy:function(){t.remove(),e.broadcast("event:remove-qna-done")},onmessage:{"event:remove-qna":function(e){e.indexOf(i)!==-1&&this.destroy()}}}}),RT.App.addModule("goods-history",function(e){"use strict";function t(e,t){var n;t.mybid_host=RT.config.mybid_host,t.goods_host=RT.config.goods_host,t.class_host=RT.config.class_host,t.auction_mode_block="A"===t.g_mode,t.g_no=a,t.more_history_block=o.standalone!==!0,t.history_full_block=o.standalone!==!0&&t.history_count>u,n=Mustache.render(v,t),e[0].innerHTML=n}function n(){c.removeAnimation(m),m.removeClass("is-loading"),m.children(":not(.loader)").show()}function i(){m.addClass("is-loading",!0),m.children(":not(.loader)").hide(),c.animationExisted(m)||c.addAnimation(m)}var o=e.getConfig()||{},a=RT.context.g_no,r=RT.config.goods_host+"/item/show?"+a+"#history",d="#history",u=30,l=!1,p=1,h=!1,f=[],m=$(e.getElement()),g=m.find(".history-list"),_=$("#history_count"),v=$("#goods_history_template").html(),b=e.getService("AjaxGoodsHistoryDataService"),w=1e3,y=0;return Mustache.parse(v),{init:function(){},onclick:function(e,t,n){"history-refresh-link"===n&&this.renderHistory(p)},renderPagination:function(e,t,n,i){var o=this;i=i||"rt-pagination";var a={perPage:u,initPage:t-1||0,containerCls:i,lockCls:"is-locked",pageRangeRule:"group_per_10",onPage:function(e){o.renderHistory(e+1),history.pushState({hash:d,p:e+1},null,s(d,e+1))},onPageInfo:function(e,t,i){this.$infoNum.text("每頁 "+this.config.perPage+" 筆，"),this.$infoTotal.text(n),this.$infoPage.text(i+"/"+t)},onLock:function(){this.$pageCurrentLink.html('<i class="fa fa-lg fa-fw fa-spinner fa-pulse"></i>')}};f.push(RT.Page.Pagination(e.empty(),n,a))},renderHistory:function(e){var s,r=this;if(e!==p||!l){var c=b.getHistories(a,e,u);s=Date.now(),i(),c.done(function(n){if(l||(l=!0,_.text(n.data.history_count)),t(g,n.data),p=e,o.standalone){var i=m.find(".bottom-pagination-placeholder"),s=m.find(".top-pagination-placeholder");r.renderPagination(i,e,Number(n.data.history_count)),r.renderPagination(s,e,Number(n.data.history_count))}}).fail(function(){l=!1,t(g,{history:[],history_error:!0,login_seller:!1})}).always(function(){y=Date.now()-s,y<w?setTimeout(n,w-y):n(),y=0})}window.scrollTo(0,viewStartPosition)},sendPageView:function(){ga("set","page",r),h||(ga("send","pageview"),h=!0)},refreshPagination:function(){$.each(f,function(e,t){t.updateView(p-1)})},onmessage:{"event:goods-tab-change":function(e){e.hash===d&&(!e.p&&(e.p=p),history.replaceState(e,null,s(e.hash,e.p)),this.renderHistory(e.p),this.sendPageView())}}}}),RT.App.addModule("goods-tab-control",function(e){"use strict";function t(){var e={},t=window.location.hash||i,n=t.split("&");if(e.hash=n[0],n.length>1){var s=n[1].match(/p=(\d+)/);s&&(e.p=Number(s[1]))}return e}var n=e.getConfig(),i=n.defaultPane,o=$(e.getElement()),a="is-active",r="customizable-borderless customizable-medium";return{init:function(){var e=this;history.replaceState(t(),null,window.location.href),this.toggleTabPane(history.state),window.onpopstate=function(n){e.toggleTabPane(n.state||t())}},toggleTabPane:function(t){var n;try{n=o.find("[data-hash="+t.hash+"]")}catch(c){var d={hash:i};return history.replaceState(d,null,s(i)),void this.toggleTabPane(d)}if(0===n.length)return void this.toggleTabPane({hash:i});var u=o.find("[data-hash].is-active");u.is(n)||n.add(u).toggleClass(a).filter(".rt-tab-item").toggleClass(r),setTimeout(function(){e.broadcast("event:goods-tab-change",t)})},onclick:function(e,t,n){if("toggle-tab-link"===n){var i=$(t).parent().data("hash");this.toggleTabPane({hash:i}),this.pushHistory(i),e.preventDefault()}},pushHistory:function(e){var t=s(e);history.pushState({hash:e},null,t)},onmessage:{"event:tab-change":function(e){this.pushHistory(e),this.toggleTabPane({hash:e})}}}}),RT.context.if_ad_enabled&&(a.init(),r.init()),window.onload=function(){var e=i();viewStartPosition=e(),RT.context.youtube_link&&RT.Youtube.showYoutube("800","390",RT.context.youtube_link),function(e,t,n){var i,s=e.getElementsByTagName(t)[0];e.getElementById(n)||(i=e.createElement("script"),i.id=n,i.async=!0,i.src="//connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v2.4",s.parentNode.insertBefore(i,s))}(document,"head","facebook-jssdk"),function(e,t){var n,i=e.getElementsByTagName(t)[0];n=e.createElement("script"),n.async=!0,n.defer=!0,n.src="https://apis.google.com/js/platform.js",n.innerHTML='{lang: "zh-TW"}',i.parentNode.insertBefore(n,i)}(document,"head")}},"./services/AjaxIdentityCheckService.js":function(e,t,n){n("./services/AjaxHeaderDataService.js"),RT.App.addService("AjaxIdentityCheckService",function(e){"use strict";function t(){var e,t=$.Deferred(),n=o.getData();return $.isFunction(n.then)?n.done(function(e){e?t.resolve():t.reject()}).fail(function(){t.reject()}):(e=n,e?t.resolve():t.reject()),t}function n(e,t){return $.ajax({url:RT.config.mybid_host+"/api/items/seller_management.php",dataType:"json",data:{g:t},xhrFields:{withCredentials:!0}}).done(function(t){t.login_seller=t.data.login_seller,t.login_flag=t.data.login_flag,t&&"success"===t.status&&(t.login_seller=t.data&&t.data.login_seller,t.login_flag=t.data&&t.data.login_flag,e.resolve(t))}).fail(function(){e.reject()}),e}function i(e){var i=t(),s=$.Deferred();return i.done(function(){n(s,e)}).fail(function(){s.reject()}),s}var s,o=e.getService("AjaxHeaderDataService");return{identify:function(e,t){return s=t,i(e)}}})},"./services/AjaxHeaderDataService.js":function(e,t){RT.App.addService("AjaxHeaderDataService",function(e){"use strict";function t(){return i=o.retrieve(),i?i:n()}function n(){var e=$.Deferred(),t=RT.config&&RT.config.member_host||"https://member.ruten.com.tw";return s=!0,$.ajax({url:t+"/user/ajax_header_slice.php",dataType:"json",xhrFields:{withCredentials:!0},success:function(t){t?(o.save(t),e.resolve(t)):e.reject()},error:function(t,n,i){e.reject(n)},complete:function(){s=!1}}),e}var i={},s=!1,o=e.getService("HeaderDataStorageService");return{getData:function(e){var n=this;if(s)return e=e||$.Deferred(),setTimeout(function(){n.getData(e)},100),e;if(e){var i=t();i?$.isFunction(i.then)?i.done(e.resolve).fail(e.reject):e.resolve(i):e.reject()}return t()},resetData:function(){o.reset()}}}),RT.App.addService("HeaderDataStorageService",function(e){"use strict";function t(){var e=Cookies.get(a,{domain:r});return e&&o(e)}function n(e){var t=new Date;t.setMinutes(t.getMinutes()+3),e=s(e),Cookies.set(a,e,{domain:r,expires:t})}function i(){Cookies.remove(a,{domain:r})}function s(e){return window.btoa(JSON.stringify(e))}function o(e){return JSON.parse(window.atob(e))}var a="rt_header_info",r="ruten.com.tw",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return window.btoa||(window.btoa=function(e){for(var t,n="",i=-6,s=0,o=0,a=0;o<e.length||i>-6;)0>i&&(o<e.length?(t=e.charCodeAt(o++),a+=8):t=0,s=(255&s)<<8|255&t,i+=8),n+=c.charAt(a>0?s>>i&63:64),i-=6,a-=6;return n},window.atob=function(e){for(var t,n,i="",s=-8,o=0,a=0;a<e.length;a++)(t=c.indexOf(e.charAt(a)))<0||(o=o<<6|63&t,(s+=6)>=0&&(n=o>>s&255,64!=t&&(i+=String.fromCharCode(n)),o&=63,s-=8));return i}),{retrieve:function(){return t()},save:function(e){n(e)},reset:function(){i()}}})},"./services/AjaxGoodsRemovalService.js":function(e,t){RT.App.addService("AjaxGoodsRemovalService",function(e){"use strict";function t(e){switch(e){case 1001:return"請先登入後，再試一次！";case 2001:return"資料不符合規定";case 3001:return"找不到此商品";case 3002:return"該商品不是自己的商品";case 3003:return"此商品已下架";case 3004:return"此商品已被人下標";case 3007:return"此商品已刪除";default:return"系統忙碌中，請稍後再試"}}function n(e){return"undefined"!=typeof e?$.isArray(e)?e.filter(function(t,n){return e.indexOf(t)===n}).join(","):e:""}function i(e,t){var i=n(t),s=$.Deferred();return""!==i?$.ajax(RT.config.mybid_host+"/master/action_sellnow.php",{data:{type:e,gno_list:i},type:"post",dataType:"json",xhrFields:{withCredentials:!0},success:function(e){"success"===e.status?(e.data.list=i.split(","),s.resolve(e)):"error"!==e.status&&"fail"!==e.status||(e.message=e.message||"系統忙碌中，請稍後再試",s.reject(e.message))},error:function(){s.reject("系統忙碌中，請稍後再試")}}):s.reject("系統忙碌中，請稍後再試"),s}function s(e,i){var s=n(i),o=$.Deferred();return""!==s?$.ajax(RT.config.mybid_host+"/ajax/item_close.php",{data:{type:e,g_no_list:s},type:"post",dataType:"json",xhrFields:{withCredentials:!0},success:function(e){"success"===e.status?o.resolve():"fail"===e.status&&o.reject(t(e.error_code))},error:function(){o.reject("系統忙碌中，請稍後再試")}}):o.reject("系統忙碌中，請稍後再試"),o}function o(e){var i=n(e),s=$.Deferred();return""!==i?$.ajax(RT.config.mybid_host+"/ajax/item_delete.php",{data:{g_no_list:i},type:"post",dataType:"json",xhrFields:{withCredentials:!0},success:function(e){"success"===e.status?s.resolve():"fail"===e.status&&s.reject(t(e.error_code))},error:function(){s.reject("系統忙碌中，請稍後再試")}}):s.reject("系統忙碌中，請稍後再試"),s}return{forceEnd:function(e){return i("down",e)},prematureEnd:function(e){return i("over",e)},forceEndMobile:function(e){return s("down",e)},removalGoods:function(e){return o(e)}}})},"./services/AjaxFavoriteFunctionService.js":function(e,t){RT.App.addService("AjaxFavoriteFunctionService",function(e){"use strict";function t(e,t){return $.ajax({url:i.remoteHost+i.remotePath,type:"post",data:{g_no:e,tourl:t},xhrFields:{withCredentials:!0}})}function n(e){return $.ajax({url:s.remoteHost+s.remotePath,type:"post",data:{seller_user_nick:e},dataType:"json",xhrFields:{withCredentials:!0}})}var i={resHandler:window.alert,remotePath:"/api/addFavoriteItem.php",remoteHost:RT.config.mybid_host},s={resHandler:window.alert,remotePath:"/api/addFavoriteSeller.php",remoteHost:RT.config.mybid_host},o={"OK,IT_IS_SUCCESS":"已經將此商品加入「追蹤中」!","ERROR,QUERY":"系統忙碌中，請稍後再試","ERROR,NO G_NO":"商品不存在","ERROR,HAVE BEEN MAX":"您設定要追蹤的商品超過1000個的上限",DEFAULT:"請先登入會員！"},a={NO_LOGIN:"請先登入會員！",OVERFLOW:"最愛賣家名單最多新增1000筆！",EXISTS:"已經是你的最愛賣家!",GO_ON:"已將此賣家加入「最愛賣家」",DEFAULT:"系統忙碌中，請稍後再試！"};return{addItem:function(e,t,n){n&&"function"==typeof n&&(i.resHandler=n),this.addItemDeferred(e,t).done(function(e){var t=o[e]?o[e]:o.DEFAULT;i.resHandler.call(window,t,e)}).fail(function(){i.resHandler.call(window,"系統忙碌中，請稍後再試","ERROR")})},addItemDeferred:function(e,n){return t.apply(this,arguments)},addSeller:function(e,t){t&&"function"==typeof t&&(s.resHandler=t),this.addSellerDeferred(e).done(function(e){var t=e&&e.status||"DEFAULT",n=a[t];s.resHandler.call(window,n,e)}).fail(function(){s.resHandler.call(window,"系統忙碌中，請稍後再試","ERROR")})},addSellerDeferred:function(e,t){return n.apply(this,arguments)},setItemConfig:function(e){i=$.extend({},i,e)},setSellerConfig:function(e){s=$.extend({},s,e)}}})},"./services/AjaxGoodsQnADataService.js":function(e,t){RT.App.addService("AjaxGoodsQnADataService",function(e){"use strict";function t(e,t,n){var i=$.Deferred();return t=t||1,n=n||10,$.ajax({url:RT.config.mybid_host+"/api/items/goods_qna.php",dataType:"json",data:{g:e,p:t,s:n},xhrFields:{withCredentials:!0},success:function(e){e&&"success"===e.status?i.resolve(e):i.reject(a(e,"無法取得問與答清單"))},error:function(){i.reject(!1)}}),i}function n(e,t){var n=$.Deferred();return 0===t.length?n.reject({message:"請先勾選欲刪除的問題!"}):$.ajax({url:RT.config.mybid_host+"/api/items/qa_del.php",type:"post",dataType:"json",data:{del_code:t},xhrFields:{withCredentials:!0},success:function(e){e&&"success"===e.status?n.resolve(e):"error"===e.status&&(e=a(e),n.reject(e))},error:function(){n.reject({message:"系統忙碌中，請稍後再試"})}}),n}function i(e,t){var n=$.Deferred();return 0===t.length?n.reject({message:"問題內容請勿空白!"}):o(t)>500?n.reject({message:"問題內容過長，請勿輸入超過250個中文字"}):$.ajax({url:RT.config.mybid_host+"/api/items/qa_ins.php",type:"post",dataType:"json",data:{g_no:e,content:t},xhrFields:{withCredentials:!0},success:function(e){e&&"success"===e.status?n.resolve(e):"error"===e.status&&(e=a(e),
n.reject(e))},error:function(){n.reject({message:"系統忙碌中，請稍後再試"})}}),n}function s(e,t,n){var i=$.Deferred();return 0===n.length?i.reject({message:"問題內容請勿空白!"}):o(n)>500?i.reject({message:"問題內容過長，請勿輸入超過250個中文字"}):$.ajax({url:RT.config.mybid_host+"/api/items/qa_reply.php",type:"post",dataType:"json",data:{g_no:e,q:t,reply_content:n},xhrFields:{withCredentials:!0},success:function(e){e&&"success"===e.status?i.resolve(e):"error"===e.status&&(e=a(e),i.reject(e))},error:function(){i.reject({message:"系統忙碌中，請稍後再試"})}}),i}function o(e){var t=(e.match(/[^\x00-\xff]/g)||"").length;return e.length+t}function a(e,t){switch(e=e||{},e.disabled=!1,e.code){case"TooManyPost":e.message="您本日問與答發問數量已超過系統上限!";break;case"BadParameter":e.message="您本日問與答發問數量已超過系統上限!";break;case"GoodsItemNotFound":e.message="對不起，找不到此商品的相關資料，請確認是否有此商品!!!";break;case"BannedBySeller":e.message="對不起，您已被此會員設為黑名單，無法於此賣場使用本功能。";break;case"TemporarilySuspendUsage":e.message="對不起，你可能被拍賣系統停權中，無法使用。若有疑問請與客服中心聯絡。";break;case"NeedCertify":e.message="對不起，您尚未通過認證，無法向賣家提問題。若有疑問請與客服中心聯絡。",e.refreshable=!0;break;case"NeedLogIn":e.message="對不起，您尚未登入! 即將導向登入頁...",e.url=RT.config.member_host+"/user/login.htm?refer="+window.encodeURIComponent(window.location.href);break;case"TemporarilySuspendUsage":e.message="對不起，你可能被拍賣系統停權中，無法使用。若有疑問請與客服中心聯絡。";break;case"DisableUseQna":e.message="此賣家不具有問與答功能。",e.disabled=!0;break;case"DataError":case"QuestionNotFound":case"CaptchaMissMatch":case"ContentViolated":e.message=" 資料錯誤!";break;default:e.message=t||"系統忙碌中，請稍後再試"}return e}return{getQuestions:function(e,n,i){return t(e,n,i)},removeQuestion:function(e,t){return n(e,t)},submitQuestion:function(e,t){return i(e,t)},replyQuestion:function(e,t,n){return s(e,t,n)}}})},"./services/AjaxGoodsHistoryDataService.js":function(e,t){RT.App.addService("AjaxGoodsHistoryDataService",function(e){"use strict";function t(e,t,n){var i=$.Deferred();return t=t||1,n=n||10,$.ajax({url:RT.config.mybid_host+"/api/items/goods_history.php",dataType:"json",data:{g:e,p:t,s:n},xhrFields:{withCredentials:!0},success:function(e){e&&"success"===e.status?i.resolve(e):i.reject(!1)},error:function(){i.reject(!1)}}),i}return{getHistories:function(e,n,i){return t.apply(this,arguments)}}})},"./services/BrowserStorageService.js":function(e,t){RT.App.addService("BrowserStorageService",function(e){"use strict";return{isLocalStorageSupported:function(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}},isSessionStorageSupported:function(){var e="test";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(t){return!1}},setLocalItem:function(e,t){localStorage.setItem(e,JSON.stringify(t))},getLocalItem:function(e){return JSON.parse(localStorage.getItem(e))},removeLocalItem:function(e){var t=this.getLocalItem(e);return localStorage.removeItem(e),t},setSessionItem:function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},getSessionItem:function(e,t){return JSON.parse(sessionStorage.getItem(e))},removeSessionItem:function(e){var t=this.getSessionItem(e);return sessionStorage.removeItem(e),t}}})},"./d/components/goods_spec_chooser.js":function(e,t){var n=function(){function e(e){return Object.keys(e).map(function(t){return e[t]})}function t(e,t){return t.map(function(e){return e.spec_id}).indexOf(e)}function n(e,n){var i=t(e,n);return i!==-1?n[i].spec_name:""}function i(e,n){var i=t(e,n);return i!==-1?n[i].spec_name_big5:""}function s(e,t,n){var i={};return $.each(t,function(e,t){"0"===t.parent_id.toString()&&"Y"===t.spec_status&&(i[e]=t)}),2===e&&$.each(i,function(e,t){var i=0;$.each(t.childs,function(e,t){n[e].spec_status&&(i+=n[e].spec_num)}),t.spec_num=i}),i}function o(e){return e?e.goods_no:null}function a(e){var t={};return $.each(e,function(e,n){"0"===n.parent_id.toString()&&(t[n.spec_id]=n)}),t}function r(e){var t={};return $.each(e,function(e,n){"0"!==n.parent_id.toString()&&(t[n.spec_id]=n)}),t}function c(e,t){var n={},i=a(t),s=r(t);return 1===e?$.each(i,function(e,t){n[e]=t,n[e].spec_num=Number(t.spec_num),n[e].spec_status="Y"===t.spec_status,n[e].spec_ext=o(t.spec_ext),n[e].parent_name=null,n[e].spec_name_big5=t.spec_name_big5}):2===e&&$.each(s,function(e,t){n[e]=t,n[e].spec_num=Number(t.spec_num),n[e].spec_status="Y"===t.spec_status,n[e].spec_ext=o(t.spec_ext),n[e].parent_name=i[t.parent_id].spec_name,n[e].spec_name_big5=t.spec_name_big5}),n}var d={},u={},l=0,p={},h=[],f={},m={};return d=RT.context.spec_info?$.extend(!0,{},RT.context.spec_info):{level:0,structure:{},specs:{}},u=e($.extend(!0,{},d.specs)),m=c(d.level,$.extend(!0,{},d.specs)),p=s(d.level,$.extend(!0,{},d.specs),m),$.each(m,function(e,t){var n=0;if(t.spec_status){$.each(m,function(e,i){i.spec_status&&i.spec_num&&i.spec_name===t.spec_name&&(n+=i.spec_num)});var i={spec_id:t.spec_id,parent_id:t.parent_id,spec_name:t.spec_name,spec_num:n,spec_status:"Y"};f[t.spec_name]=i}}),$.each(f,function(e,t){h.push(t)}),d.level||(l=Number(RT.context.remain_count),l>99&&(l=99)),{raw:d,rawList:u,specList:p,itemData:h,itemDetailList:m,buyLimitNoSpec:l,getParentName:n,getParentNameBig5:i}}();new Vue({el:"#goods-spec-setting",delimiters:["${","}"],data:{level:n.raw.level,rawList:n.rawList,specRawList:$.extend(!0,{},n.specList),specList:n.specList,itemList:n.itemData,itemDetailList:n.itemDetailList,targetSpecID:"",targetItemID:"",targetItemName:"",buyCount:1,buyLimitNoSpec:n.buyLimitNoSpec,remainCount:Number(RT.context.remain_count)},computed:{stopIncrease:function(){return this.level?this.buyCount>=this.buyLimit:this.buyCount>=this.buyLimitNoSpec},stopDecrease:function(){return this.buyCount<=1},specs:function(){if(this.targetItemID){var e=this.itemDetailList[this.targetItemID].spec_name,t=this._getObjContent($.extend(!0,{},this.specRawList)),n=[],i=[];return $.each(this.itemDetailList,function(t,s){s.spec_name===e&&s.spec_status&&(n.push(s.parent_id),0===Number(s.spec_num)&&i.push(s.parent_id))}),$.each(t,function(e,t){t.spec_status=n.indexOf(t.spec_id)!==-1?"Y":"N",t.spec_num=i.indexOf(t.spec_id)!==-1?0:1}),t}return this._getObjContent(this.specRawList)},varies:function(){return this.targetSpecID?this._getVaries(this.targetSpecID):this.itemList},selected:function(){var e=this;if(this.buyCount=1,1===this.level)return this.targetSpecID;if(2===this.level&&this.targetSpecID&&this.targetItemID){var t="",n={};return t=this.itemDetailList[this.targetItemID].spec_name,$.each(this.itemDetailList,function(i,s){s.spec_name===t&&s.parent_id===e.targetSpecID&&(n=s)}),n.spec_id}},selectedName:function(){var e=this;if(1===this.level)return this.targetSpecID?this.itemDetailList[this.targetSpecID].spec_name_big5:"";if(2===this.level){if(this.targetSpecID&&this.targetItemID){var t,i=this.itemDetailList[this.targetItemID].spec_name;return $.each(this.itemDetailList,function(n,s){s.spec_name===i&&s.parent_id===e.targetSpecID&&(t=n)}),n.getParentNameBig5(this.targetSpecID,this.rawList)+encodeURI(" ")+this.itemDetailList[t].spec_name_big5}return""}},buyLimit:function(){var e=0;return this.level&&this.selected?(e=this._getStock(this.selected),e>99?99:e):1},stock:function(){return this.selected?this._getStock(this.selected):this.remainCount}},methods:{increase:function(){this.buyCount++},decrease:function(){this.buyCount--},showOption:function(e){return"Y"===e},disableOption:function(e){return e<=0},setSpec:function(e){this.targetSpecID===e.spec_id?this.targetSpecID="":this.targetSpecID=e.spec_id},setItem:function(e){this.targetItemName===e.spec_name?(this.targetItemID="",this.targetItemName=""):(this.targetItemID=e.spec_id,this.targetItemName=this.itemDetailList[this.targetItemID].spec_name)},_getChildList:function(e){return $.grep(this._getObjContent(this.itemDetailList),function(t,n){return t.parent_id===e})},_getStock:function(e){return this.itemDetailList[e].spec_num},_getObjContent:function(e){return Object.keys(e).map(function(t){return e[t]})},_getVaries:function(e){var t=[];return $.each(this.itemDetailList,function(n,i){i.parent_id===e&&t.push({spec_id:i.spec_id,parent_id:i.parent_id,spec_name:i.spec_name,spec_num:i.spec_num,spec_status:i.spec_status?"Y":"N",spec_name_big5:i.spec_name_big5})}),t}},watch:{buyCount:function(e){var t=this.level?this.buyLimit:this.buyLimitNoSpec,n=Number(e);t>99&&(t=99),n<=0?this.buyCount=1:n>t&&(this.buyCount=t)}}})}});