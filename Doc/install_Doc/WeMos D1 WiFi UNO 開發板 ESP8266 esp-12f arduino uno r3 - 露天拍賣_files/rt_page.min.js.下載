window.RT=window.RT||{},function(t,e,i){var a="rt-go-page",s={initPage:0,perPage:10,pageRangeRule:"all",prevText:"上一頁",nextText:"下一頁",prev10Text:"上10頁",next10Text:"下10頁",containerCls:"pagination",pageListCls:"page-link-list",prevCls:"prev",nextCls:"next",prev10Cls:"prev-10",next10Cls:"next-10",activeCls:"active",disableCls:"disable",lockCls:"page-lock",currentTextCls:"current",infoBlockCls:"page-info",infoNumCls:"page-info-num",infoPageCls:"page-info-pagenum",infoTotalCls:"page-info-total",onPage:function(){},onPageInfo:function(t,e,i){this.$infoNum.text(i)},onLock:function(){}},n={all:function(){return{from:0,to:this.totalPage}},group_per_10:function(t){var e=t;return e=Math.max(e-e%10,0),{from:e,to:Math.min(e+10,this.totalPage)}}},o=function(t,i,s){var n=e('<li><a href="#">'+t.toString()+"</a></li>");return n.find("a").attr(a,i),s&&n.addClass(s)||n},l=function(t){var i,a=e(),s=t.from,n=t.to;for(i=s;i<n;i++)a.push(o(i+1,"to-"+i,"page-to").get(0));return a},g=function(t,i,a){var n,o=!1;return this instanceof g?(e.isNumeric(i)&&(i=new Array(Number(i)),o=!0),this.$nav=t instanceof e&&t||e(t),this.items=i,this.config=e.extend({},s,a),this.totalItem=i.length,this.totalPage=Math.ceil(this.totalItem/this.config.perPage)||1,this.maxPage=this.totalPage-1,this.config.initPage=Math.min(this.config.initPage,this.totalPage),this.crtPage=void 0,this.isLock=!1,h.call(this,this.config.initPage),p.call(this,this.config),c.call(this),o&&(n=this.config.onPage,this.config.onPage=function(){this.config.onPage=n}),void this.to(this.config.initPage)):new g(t,i,a)},h=function(t){this.pageRange=n[this.config.pageRangeRule].call(this,t)},r=function(t){var e;h.call(this,t),e=l(this.pageRange),this.$pageLinks.eq(0).before(e).end().remove(),this.$pageLinks=e},p=function(t){this.$pageBlock=e("<ul></ul>").addClass(t.pageListCls),this.$pageLinks=l(this.pageRange),this.$pagePrev=o(t.prevText,"prev",t.prevCls),this.$pageNext=o(t.nextText,"next",t.nextCls),this.$pagePrev10=o(t.prev10Text,"prev10",t.prev10Cls),this.$pageNext10=o(t.next10Text,"next10",t.next10Cls),this.$infoBlock=e("<div></div>").addClass(t.infoBlockCls),this.$infoNum=e("<span></span>").addClass(t.infoNumCls),this.$infoPage=e("<span></span>").addClass(t.infoPageCls).text(this.totalPage),this.$infoTotal=e("<span></span>").addClass(t.infoTotalCls).text("(共"+this.totalItem+"筆資料)"),this.$pageBlock.append(this.$pagePrev,this.$pageLinks,this.$pageNext).appendTo(this.$nav),"group_per_10"===this.config.pageRangeRule&&(this.$pagePrev.after(this.$pagePrev10),this.$pageNext.before(this.$pageNext10)),this.$infoBlock.append(this.$infoNum,'<span class="page-info-slash">/</span>',this.$infoPage,this.$infoTotal).appendTo(this.$nav),this.$nav.addClass(t.containerCls)},c=function(){var t=this;this.$pageBlock.on("click","a["+a+"]",function(i){var s=e(this).attr(a).split("-");!t.isLock&&t[s[0]].apply(t,s.slice(1)),i.preventDefault()})},f=function(t,e,i){var a=this.pageRange.from;e.eq(this.crtPage-a).removeClass(i.activeCls),this.$pageCurrentLink=e.eq(t-a).addClass(i.activeCls),this.$pagePrev.toggleClass(i.currentTextCls,0===t),this.$pageNext.toggleClass(i.currentTextCls,t===this.maxPage),this.$pagePrev10.toggleClass(i.disableCls,0===a),this.$pageNext10.toggleClass(i.disableCls,this.pageRange.to===this.totalPage),i.onPageInfo.call(this,this.totalItem,this.totalPage,t+1)},u=function(){return this.$pageBlock.toggleClass(this.config.lockCls,this.isLock),this.config.onLock.call(this),this};g.prototype.updateView=function(t){f.call(this,t,this.$pageLinks,this.config)},g.prototype.first=function(){return this.to(0)},g.prototype.last=function(){return this.to(this.maxPage)},g.prototype.prev=function(){return this.to(this.crtPage-1)},g.prototype.next=function(){return this.to(this.crtPage+1)},g.prototype.prev10=function(){return this.to(this.crtPage-10)},g.prototype.next10=function(){return this.to(this.crtPage+10)},g.prototype.lock=function(){return this.isLock=!0,u.call(this)},g.prototype.unlock=function(){return this.isLock=!1,u.call(this)},g.prototype.to=function(t,e){var i,a=this.config.perPage;return e=e||!1,t=Math.min(Math.max(Number(t)||0,0),this.maxPage),t===this.crtPage?this:((t<this.pageRange.from||t>this.pageRange.to-1)&&r.call(this,t),f.call(this,t,this.$pageLinks,this.config),i=t*a,this.crtPage=t,!e&&this.config.onPage.call(this,t,this.items.slice(i,i+a)),this)},g.prototype.getSearchModel=function(){var t,e={},a=i.location.search.replace(/^\?/,"").split(/[&=]/),s=a.length-1;for(t=0;t<s;t+=2)e[a[t]]=a[t+1];return e},g.defaultConfig=s,t.Page={Pagination:g}}(RT,jQuery,window);